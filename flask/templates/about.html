{% extends "index.html" %}

{% block title %}
<title>RealmCharts - About</title>
{% endblock %}

{% block discord %}
<meta property="og:title" content="RealmCharts - About"/>
<meta property="description" content="Live statistics for the bullet hell roguelike MMORPG Realm of the Mad God. Includes RotMG player count, Steam reviews, and 24-hour forecasts!"/>
<meta property="og:description" content="Live statistics for the bullet hell roguelike MMORPG Realm of the Mad God. Includes RotMG player count, Steam reviews, and 24-hour forecasts!"/>
<meta property="og:url" content="https://realmcharts.swrlly.com/about"/>
{% endblock %}

{% block header %} 
{% endblock %}

{% block content %}

<div class="navbar">
    <a href="/">
        <span class="navbar-text-wrapper">
            <div class="navbar-text"><span>Home</span><img class="navbar-text-icon" src="/static/images/home.png"></img></div>
        </span>
    </a>
    <a href="/api-reference">
        <span class="navbar-text-wrapper">
            <div class="navbar-text"><span>API Reference</span><img class="navbar-text-icon" src="/static/images/api.png"></img></div>
        </span>
    </a>
    <a href="https://github.com/swrlly/realmcharts">
        <span class="navbar-text-wrapper">
            <div class="navbar-text"><span>Source Code</span><span class="navbar-text-icon i-github"></span></div>
        </span>
    </a>
</div>

<div class="title-container">
    <div class="title-div" style="visibility: visible;">
        <a href="/" class="title-and-icon">
            <img class="navbar-icon" src="/static/images/favicon.png"></img> 
            <span class="navbar-website-text">RealmCharts</span>
        </a>
        <span class="navbar-descriptor"><i>Analytics for the MMORPG Realm of the Mad God (RotMG).</i></span>
    </div>
</div>

<div class="container" style="font-size: 85%;">

    <div class="home-floating-footer">
        <a href="/"><img class="home-icon" src="/static/images/home.png"></img></a>
    </div>

    <h1 class="a-h1">About This Site</h1><hr>

    <p>Hello world! RealmCharts is a project for one of my favorite online bullet hell multiplayer games <a class="about-a" href="https://www.realmofthemadgod.com/">RotMG</a>. I've always wanted to learn more about the intersection of web development and data analysis, and this project was the perfect combination of the two. All the code is open-sourced <a class="about-a" href="https://github.com/swrlly/RealmCharts">on GitHub.</a></p>

    <p>RealmCharts provides a live dashboard for insights on RotMG player count and Steam review analysis. Enjoy!</p>

    <h1 class="a-h1">What We Show</h1><hr>

    <ul class="ul-normal">
        <li><b>Players Now</b>: Minute-level granularity of unique players seen in the last 60 minutes (excluding  &lt;2 star players)</li>
        <li><b>24-hour Forecast</b>: High accuracy time series forecast for 1-, 6-, 12-, and 24-hour horizons</li>
        <li><b>Steam Analysis</b>: Review volume by day and %positive reviews over your time period of choice</li>
        <li><b>RotMG Milestones</b>: Annotations for large changes in game mechanics and player review responses</li>
    </ul>

    <h1 class="a-h1">How We Model</h1><hr>

    <p>Every statistic on RealmCharts is created through multi-step ETL pipelines on live data. Here is the general framework:</p>

    <ul class="ul-normal">
        <li><b>Data Ingestion</b>: player count data is sampled every minute and filtered for anomalies and game maintenance periods; steam reviews are sampled every hour. Data is aligned to UTC and player count data is upsampled to five-minute averages for forecasting.</li>
        <li><b>Forecasting</b>: we use the powerful <a class="about-a" href="https://www.statsmodels.org/dev/generated/statsmodels.tsa.statespace.structural.UnobservedComponents.html">Unobserved Components</a> time series model to capture multiple consistent patterns in RotMG player behavior, leading to 97%+ MAPE (â‰ˆ70-80 MAE) for one hour forecasts.</li>
        <li><b>Live statistics</b>: Highcharts and pure JavaScript provides an on-demand experience at the minute-granularity.</li>
    </ul>

    <h2>Forecasting Methodology</h2>

    <p>RotMG player data contains multiple patterns we used to obtain high accuracy forecasts. Cyclical effects (called seasonalities) were modeled carefully: there is a daily seasonality and a weekly seasonality (more players playing on weekends). If you look closely, each days' peak player count contains two smaller peaks: the first one for peak EU time and the second for peak US time. If you look even more closely, the EU peak is stronger than the US peak on Friday-Sunday while the US peak is stronger than EU during Monday-Thursday, gradually weakening until Thursday where EU/US peaks are about the same. Multiple seasonal components were utilized to model the various cyclic effects and double EU/US peak.</p>

    <p>Maintenances with significant content (MotMG) and season starts cause shock effects: more players return to the game than prior. Cubic spline basis functions were used to propogate the shock effect (after Tuesday maintenance) from the beginning of the week until the end of the weekend, allowing interpretations on the direct additive effect of the shock.</p>

    <p>Lastly, the general trend of players increases after a significant maintenance/season start, and slowly decreases week by week until the next maintenance. This was handled with a smooth trend parameterization in Unobserved Components.</p>

    <p>I'll go much more into detail on the modeling philosophy, progression, and automation over time in a separate blog post. Stay tuned!</p>

    <h1 class="a-h1">Attribution and Technologies</h1><hr>

    <p>This website uses</p>

    <ul class="ul-normal">
        <li><a class="about-a" href="https://www.python.org/downloads/">Python</a>, <a class="about-a" href="https://sqlite.org/index.html">SQLite</a> for data collection and the database</li>
        <li><a class="about-a" href="https://github.com/pallets/flask/">Flask</a> and <a class="about-a" href="https://gunicorn.org/">Gunicorn</a> for the webserver</li>
        <li><a class="about-a" href="https://nginx.org/en/">nginx</a> and <a class="about-a" href="https://cloudflare.com">Cloudflare</a> for reverse proxy/caching</li>
        <li><a class="about-a" href="https://www.highcharts.com/">HighCharts</a> for interactive charting</li>
        <li><a class="about-a" href="https://www.statsmodels.org/stable/index.html">statsmodels</a> for forecasting</li>
        <li>JS/CSS for state management (no libraries!)</li>
    </ul>

    <p>Also used are</p>

    <ul class="ul-normal">
        <li><a class="about-a" href="https://sqlitebrowser.org/">DB Browser for SQLite</a> for testing SQL queries</li>
        <li><a class="about-a" href="https://realmeye.com/">RealmEye</a> for researching previous game releases</li>
        <li>RotMG pixel art for icons</li>
        <li><a class="about-a" href="https://icomoon.io/">Icomoon</a> for GitHub icon</li>
    </ul>

    <h1 class="a-h1">Changelog</h1><hr>

    <h3>10/7/2025</h3>
    <ul>
        <li>Documented API for public use</li>
        <li>Updated About page with details on the backend process</li>
    </ul>
    <h3>10/5/2025</h3>
    <ul>
        <li>Modeled new season/big event shock effect with cubic spline basis, increasing forecast accuracies and fitting the data generation process better</li>
    </ul>
    <h3>9/28/2025</h3>
    <ul>
        <li>Added forecast performance last 48 hours</li>
        <li>Added significant event/content release annotations in Steam review chart</li>
    </ul>
    <h3>9/26/2025</h3>
    <ul>
        <li>Upgraded forecaster to use weekly seasonality in estimating day-to-day effects, and daily seasonality to estimate the within day EU/US peak</li>
    </ul>
    <h3>9/25/2025</h3>
    <ul>
        <li>Refactored large database codebase using factory method and decorators for exception handling</li>
    </ul>
    <h3>9/24/2025</h3>
    <ul>
        <li>Analyzed model and forecast stability using condition number/eigenvalues of the state transition matrix, ACF/PACF plots, standardized forecast errors
            <ul style="margin:0;">
                <li>2 weekly harmonics + AR error component 3 on three weeks and three days of data was extremely unstable and forecasts had larger than acceptable prediction intervals</li>
            </ul>
        </li>
        <li>Began saving 1/6/12/24h forecasts for forecast accuracy comparison</li>
    </ul>
    <h3>9/23/2025</h3>
    <ul>
        <li>Optimized page loading speed from 5 seconds to below 2 seconds with Gunicorn async workers, batching JS async tasks in <code>Promise.all</code>, `gzip` compression, caching long review query</li>
    </ul>
    <h3>9/23/2025</h3>
    <ul>
        <li>Forecast now predicts 0 until DECA's estimated end of maintenance time</li>
        <li>Disabled forecast when data is bugged (enabled 60 minutes after data collection returns)</li>
        <li>Few mobile UI optimizations (scroll with one finger, fixed navbar overflow)</li>
    </ul>
    <h3>9/21/2025</h3>
    <ul>
        <li>Deployed automated ML pipeline deployment for forecasting player counts using unobserved components</li>
    </ul>
    <h3>9/20/2025</h3>
    <ul>
        <li>Added ETL pipelines from dirty data -> forecast ready: cleaned sequential unreliable playercounts + 60 min after logging in, set old maintenance players to 0, and grouped data into 5 minute intervals</li>
        <li>Converted <code>setInterval</code> for updating player/review dashboard to use exact <code>setTimeout</code> preventing new data update timing drift on Firefox</li>
        <li>Added logic to refresh review chart 4 minutes after the hour</li>
    </ul>
    <h3>9/18/2025</h3>
    <ul>
        <li>Created callout cards for steam reviews based on user zoom window (allows user to drill down to windows of their choice and inspect statistics)
            <ul style="margin:0;">
                <li>On average, in recent years most users do play more than 10 days before leaving a review</li>
            </ul>
        </li>
        <li>Added About page (this one!)</li>
    </ul>
    <h3>9/17/2025</h3>
    <ul>
        <li>Changed review scraping logic to use <code>requests.Session</code> and changed to hourly job</li>
        <li>Fixed bug in review scraping logic where <code>cursor</code> wasn't reset to <code>*</code> after finishing</li>
        <li>Fixed bug in current player count when <code>null</code></li>
    </ul>
    <h3>9/16/2025</h3>
    <ul>
        <li>Refactored JavaScript into ES6 modules, previously 500 lines in 1 file</li>
        <li>Fixed bug where dashboard updating logic added new data to the array and HighCharts; HighCharts mutates original arrayâ€”only need to <code>addPoint</code> on HighCharts</li>
        <li>Discovered bug in scraping Steam reviews after the first scrape</li>
    </ul>
    <h3>9/15/2025</h3>
    <ul>
        <li>Automated setting player counts to <code>null</code> when server is offline</li>
    </ul>
    <h3>9/14/2025</h3>
    <ul>
        <li>Added weekly player count change card</li>
        <li>Created daily job to scrape Steam reviews</li>
        <li>Deployed dual-axis steam review chart: % of total positive reviews and number of reviews</li>
        <li>Designed logic to make dashboard update every minute</li>
        <li>Created tooltips on hover to explain potential questionsâ€”keeping dashboard design clean</li>
        <li>Made frontend mobile friendly with media queries and alternate navbar</li>
        <li>Fixed bug where the player count chart wouldn't shrink on mobile due to callout card elements not shrinking</li>
        <li>Fixed bug in weekly difference calculation</li>
        <li>Released dashboard to public!</li>
    </ul>
    <h3>9/12/2025</h3>
    <ul>
        <li>Created callout cards for current player count, server maintenance status</li>
        <li>Designed fixed floating navbar for easy navigation</li>
        <li>Designed skeleton loading for callout cards due to >750ms load times (webserver is in EU)</li>
    </ul>
    <h3>9/10/2025</h3>
    <ul>
        <li>Began working on frontend design</li>
        <li>Deployed first chart displaying player counts every minute using HighCharts</li>
        <li>Created automated job to check if the game is undergoing maintenance, ground truth for 0 players online</li>
        <li>Decoupled data collection and database logic</li>
    </ul>
    <h3>9/9/2025</h3>
    <ul>
        <li>Started looking at the data; reliable source but faulty during maintenance times</li>
        <li>Wrote basic script to automate filling in incorrect player counts and maintenance times with <code>null</code> and adding missing minutes when my collector was offline</li>
    </ul>
    <h3>9/6/2025</h3>
    <ul>
        <li>Set up basic webserver with Flask and nginx, made basic landing page</li>
        <li>Connected webserver to SQLite database</li>
        <li>Learned <code>mv</code> deletes files when moving into directories without a trailing slash</li>
    </ul>
    <h3>8/30/2025</h3>
    <ul>
        <li>Created automated job to gather player count in SQLite; gathers data every minute</li>
        <li>Added basic logging functionality</li>
    </ul>
</div>

<script>
    let navbar = document.querySelectorAll(".navbar-text-wrapper");
    for (let i = 0; i < navbar.length; i++) { 
        navbar[i].style.background = "none";
        navbar[i].style.animation = "none";
        navbar[i].style.backgroundSize = "none";
    }
    var hiddenText = document.querySelectorAll(".navbar-text");
    for (let i = 0; i < hiddenText.length; i++) { 
        hiddenText[i].style.visibility = "visible"; 
    }
</script>
{% endblock %}